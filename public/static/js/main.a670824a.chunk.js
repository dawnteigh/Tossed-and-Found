(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{163:function(e,t,c){},164:function(e,t,c){},169:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),r=c(57),a=c.n(r),o=(c(154),c(36)),i=c(11),j=c(13),l=c(1),d=n.a.createContext();function b(e){var t=e.children,c=Object(s.useState)({}),n=Object(i.a)(c,2),r=n[0],a=n[1],o=Object(s.useState)(!1),b=Object(i.a)(o,2),u=b[0],O=b[1],h=Object(s.useState)(!1),x=Object(i.a)(h,2),p=x[0],m=x[1],g=Object(s.useState)(!1),f=Object(i.a)(g,2),v=f[0],C=f[1],y=Object(s.useState)([]),w=Object(i.a)(y,2),k=w[0],S=w[1],M=Object(j.f)();Object(s.useEffect)((function(){fetch("/api/me").then((function(e){return e.json()})).then((function(e){e.error?(O(!1),M.push("/")):(a(e),O(!0))}))}),[]);return Object(l.jsx)(d.Provider,{value:{user:r,setUser:a,loggedIn:u,setLoggedIn:O,open:v,setOpen:C,errorMessages:k,setErrorMessages:S,selectedCourse:p,setSelectedCourse:m,login:function(e){a(e),O(!0),M.push("/")},logout:function(){fetch("/api/logout",{method:"DELETE"}).then((function(){O(!1),M.push("/login"),m(!1),a({})}))},history:M},children:t})}c(163);var u=c(9),O=(c(164),c(188)),h=c(194),x=c(62),p=c(170),m=c.p+"static/media/TossedAndFound.1b9d973d.png",g=c(25),f=c(184),v=function(){var e=Object(s.useContext)(d),t=e.login,c=e.setOpen,n=e.setErrorMessages,r=Object(s.useState)({username:"",password:"",password_confirmation:""}),a=Object(i.a)(r,2),o=a[0],j=a[1],b=function(e){var t=e.target.id,c=e.target.value;j(Object(u.a)(Object(u.a)({},o),{},Object(g.a)({},t,c)))};return Object(l.jsx)("div",{className:"userForm",children:Object(l.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.username,password:o.password,password_confirmation:o.password_confirmation})}).then((function(e){return e.json()})).then((function(e){e.error?(n(e.error),c(!0)):t(e)}))},children:[Object(l.jsx)(f.a.Input,{type:"text",label:"Username",placeholder:"Username",id:"username",value:o.username,onChange:b}),Object(l.jsx)(f.a.Input,{type:"password",label:"Password",placeholder:"Password",id:"password",value:o.password,onChange:b}),Object(l.jsx)(f.a.Input,{type:"password",label:"Confirm Password",placeholder:"Confirm Password",id:"password_confirmation",value:o.password_confirmation,onChange:b}),Object(l.jsx)(f.a.Button,{children:"Submit"})]})})},C=function(){var e=Object(s.useContext)(d),t=e.login,c=e.setOpen,n=e.setErrorMessages,r=Object(s.useState)(""),a=Object(i.a)(r,2),o=a[0],j=a[1],b=Object(s.useState)(""),u=Object(i.a)(b,2),O=u[0],h=u[1];return Object(l.jsx)("div",{className:"userForm",children:Object(l.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.toLowerCase(),password:O})}).then((function(e){return e.json()})).then((function(e){e.error?(n(e.error),c(!0)):t(e)}))},children:[Object(l.jsx)(f.a.Input,{type:"text",label:"Username",placeholder:"Username",id:"username",value:o,onChange:function(e){return j(e.target.value)}}),Object(l.jsx)(f.a.Input,{type:"password",label:"Password",placeholder:"Password",id:"password",value:O,onChange:function(e){return h(e.target.value)}}),Object(l.jsx)(f.a.Button,{children:"Submit"})]})})},y={imgs:["https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_webp/https://crs4rec.com/wp-content/uploads/2021/01/disc-golf-women-throwing-1.jpg","https://www.si.com/.image/ar_1:1%2Cc_fill%2Ccs_srgb%2Cfl_progressive%2Cq_auto:good%2Cw_1200/MTg3MjA3MzI4NTkwNzM1MjQ2/dynamicdiscs_4.jpg","https://upload.wikimedia.org/wikipedia/commons/e/eb/Disc_golfer_and_basket.jpg","https://upload.wikimedia.org/wikipedia/commons/8/85/Base_disc_golf_120713-F-CC568-008.jpg","https://www.michigan.org/sites/default/files/legacy_images/disc-golf-pure-michigan.jpg","https://preview.redd.it/exc8v7tbdz551.jpg?width=640&crop=smart&auto=webp&s=4bc5d5efd41a528b1519e7851ea4a92a53ca11b6"],greetings:["Howdy, ","Hey there, ","It's good to see you again, ","Happy disc golfing, ","It's a great day for disc golf, ","Welcome, ","Thanks for logging in, ","Hello, ","Hope you're doing well, "]},w=c(40),k=c(139),S=function(e){var t=e.handleAddMessage,c=e.msgForm,n=e.setMsgForm,r=Object(s.useContext)(d),a=r.setOpen,o=r.setErrorMessages,i=function(e){var t=e.target.id,s=e.target.value;n(Object(u.a)(Object(u.a)({},c),{},Object(g.a)({},t,s)))};return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject:c.subject,to:c.to,body:c.body})}).then((function(e){return e.json()})).then((function(e){e.error?(o(e.error),a(!0)):(t(e),n({subject:"",to:"",body:""}))}))},children:[Object(l.jsxs)(f.a.Group,{widths:"equal",children:[Object(l.jsx)("input",{type:"text",id:"subject",placeholder:"Subject",value:c.subject,onChange:i}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",id:"to",placeholder:"To:",value:c.to,onChange:i}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{id:"body",placeholder:"Type your message here",minRows:3,value:c.body,onChange:i}),Object(l.jsx)("br",{})]}),Object(l.jsx)("input",{type:"submit"})]})},M=c(108),T=c.n(M),N=c(185),D=c(182),E=c(183),F=c(181),P=function(e){var t=e.msgForm,c=e.setMsgForm,n=Object(s.useContext)(d),r=n.user,a=n.setUser,o=Object(s.useState)(""),j=Object(i.a)(o,2),b=j[0],O=j[1],h=r.messages.filter((function(e){return(e.subject+" "+e.body+" "+e.to+" "+e.from).toLowerCase().includes(b.toLowerCase())})).map((function(e){return Object(l.jsx)(N.a,{className:"message",style:e.from===r.username?{background:"rgba(255, 140, 0, 0.325)"}:null,children:Object(l.jsxs)(N.a.Content,{children:[Object(l.jsx)(N.a.Author,{as:"a",children:e.from===r.username?"me":e.from}),Object(l.jsx)(N.a.Metadata,{children:Object(l.jsxs)("div",{children:["to: ",e.to===r.username?"me":e.to," | ",T()(e.created_at).format("MMMM DD,  LT")]})}),Object(l.jsx)(D.a,{fitted:!0}),Object(l.jsxs)(N.a.Text,{children:[Object(l.jsx)("b",{children:e.subject}),Object(l.jsx)("br",{}),e.body]}),Object(l.jsx)(N.a.Actions,{children:e.from===r.username?null:Object(l.jsx)(N.a.Action,{onClick:function(){return c(Object(u.a)(Object(u.a)({},t),{},{subject:e.subject,to:e.from}))},children:"Reply"})})]})},e.id)}));return Object(l.jsxs)(E.a,{children:[Object(l.jsx)(F.a,{icon:"mail",iconPosition:"left",value:b,onChange:function(e){return O(e.target.value)},placeholder:"Search messages"}),Object(l.jsx)(N.a.Group,{children:h}),Object(l.jsx)("br",{}),Object(l.jsx)(S,{handleAddMessage:function(e){a(Object(u.a)(Object(u.a)({},r),{},{messages:[].concat(Object(w.a)(r.messages),[e])}))},msgForm:t,setMsgForm:c})]})},_=c(192),I=function(){var e=Object(s.useContext)(d),t=e.user,c=e.history,n=e.setSelectedCourse,r=t.courses.map((function(e,t){var s;return Object(l.jsxs)(_.a,{onClick:function(){n(e),c.push("/scorecard")},className:"myCourse",raised:!0,children:[Object(l.jsx)("b",{children:e.name})," in ",e.location,Object(l.jsx)("br",{}),Object(l.jsx)("i",{children:"Personal Best"}),": ",(s=e.best,0===s?"\xb1".concat(s):s>0?"+".concat(s):s)]},t)}));return Object(l.jsxs)("div",{children:[Object(l.jsxs)("h4",{children:["A list of the courses you have played at.",Object(l.jsx)("br",{}),"Click on one to start scorekeeping a new round!"]}),0===t.courses.length?"... unless of course you haven't recorded any scores with us yet. Click the courses tab to get started!":r]})},H=c(186),A=function(){var e=Object(s.useContext)(d),t=e.user,c=e.setUser,n=function(e){fetch("/api/scores/".concat(e.target.id),{method:"DELETE"});var s=t.scores.filter((function(t){return t.id!==parseInt(e.target.id)}));c(Object(u.a)(Object(u.a)({},t),{},{scores:s}))},r=t.scores.map((function(e){var t=e.strokes-e.par;return Object(l.jsxs)(H.a,{children:[Object(l.jsx)(H.a.Image,{size:"mini",floated:"right",children:Object(l.jsx)("span",{className:"score",children:function(e){return 0===e?"\xb1".concat(e):e>0?"+".concat(e):e}(t)})}),Object(l.jsxs)(H.a.Content,{children:[Object(l.jsx)(H.a.Header,{children:e.course.name}),Object(l.jsx)(H.a.Meta,{children:T()(e.created_at).format("MMMM DD,  LT")}),Object(l.jsxs)(H.a.Description,{children:["Par: ",e.par,Object(l.jsx)("br",{}),"Your Strokes: ",e.strokes]}),Object(l.jsx)(H.a.Extra,{children:Object(l.jsx)("button",{id:e.id,className:"delete",onClick:n,children:"Delete"})})]})]},e.id)}));return Object(l.jsx)(H.a.Group,{divided:!0,children:0===t.scores.length?"You have no scores to speak of. Get out there and play!":r})},L=function(e){var t=e.setActiveIndex,c=e.msgForm,n=e.setMsgForm,r=Object(s.useContext)(d),a=r.setOpen,o=r.setErrorMessages,j=Object(s.useState)(""),b=Object(i.a)(j,2),O=b[0],h=b[1],x=Object(s.useState)(!1),p=Object(i.a)(x,2),m=p[0],g=p[1];return Object(l.jsxs)("div",{children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/found",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:O.toLowerCase()})}).then((function(e){return e.json()})).then((function(e){e.error?(o(e.error),a(!0)):(g(e),h(""))}))},children:[Object(l.jsx)("input",{type:"text",size:"36",value:O,placeholder:"Type in the 6 character ID written on the disc",onChange:function(e){return h(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"submit"})]}),Object(l.jsx)("br",{}),m?Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:m.img,alt:"Disc associated with given ID",width:"200px",height:"auto"}),Object(l.jsx)("br",{}),Object(l.jsxs)("b",{children:[m.color," ",m.make," ",m.model]}),Object(l.jsx)("br",{}),"This disc belongs to ",m.user.username,". Send them a message to let them know you've found it!",Object(l.jsx)("br",{}),Object(l.jsxs)("button",{onClick:function(){n(Object(u.a)(Object(u.a)({},c),{},{subject:"".concat(m.color," ").concat(m.model),to:m.user.username})),t("0")},children:["Message ",m.user.username]})]}):null]})},U=c(138),G=c(193),J=c(190),R=function(){var e=Object(s.useContext)(d).loggedIn,t=Object(s.useState)(""),c=Object(i.a)(t,2),n=c[0],r=c[1],a=Object(s.useState)({subject:"",to:"",body:""}),o=Object(i.a)(a,2),j=o[0],b=o[1],u=y.imgs[Math.floor(Math.random()*y.imgs.length)];if(!e)return Object(l.jsxs)(E.a,{className:"home",children:[Object(l.jsxs)("h3",{children:["Welcome to Tossed & Found, your new disc golfing companion!",Object(l.jsx)("br",{}),"Please log in or sign up to get started."]}),Object(l.jsx)("br",{}),Object(l.jsx)(U.a,{circular:!0,centered:!0,size:"large",src:u,alt:"Tossed and Found"})]});var O=function(e){e.target.id===n?r(!1):r(e.target.id)};return Object(l.jsxs)(G.a,{centered:!0,children:[Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)("br",{}),Object(l.jsxs)(J.a,{styled:!0,children:[Object(l.jsxs)(J.a.Title,{active:"0"===n,id:0,onClick:O,children:[Object(l.jsx)(x.a,{name:"dropdown"}),"Messages"]}),Object(l.jsx)(J.a.Content,{active:"0"===n,children:Object(l.jsx)(P,{msgForm:j,setMsgForm:b})}),Object(l.jsxs)(J.a.Title,{active:"1"===n,id:1,onClick:O,children:[Object(l.jsx)(x.a,{name:"dropdown"}),"Scores"]}),Object(l.jsx)(J.a.Content,{active:"1"===n,children:Object(l.jsx)(A,{})}),Object(l.jsxs)(J.a.Title,{active:"2"===n,id:2,onClick:O,children:[Object(l.jsx)(x.a,{name:"dropdown"}),"My Courses"]}),Object(l.jsx)(J.a.Content,{active:"2"===n,children:Object(l.jsx)(I,{})}),Object(l.jsxs)(J.a.Title,{active:"3"===n,id:3,onClick:O,children:[Object(l.jsx)(x.a,{name:"dropdown"}),"Found a disc?"]}),Object(l.jsx)(J.a.Content,{active:"3"===n,children:Object(l.jsx)(L,{setActiveIndex:r,msgForm:j,setMsgForm:b})})]})]})]})},z=function(){var e=Object(s.useContext)(d),t=e.loggedIn,c=e.logout,n=e.user,r=y.greetings[Math.floor(Math.random()*y.greetings.length)];return t?Object(l.jsxs)("div",{className:"navBar",children:[Object(l.jsxs)("span",{className:"greeting",children:[r,Object(l.jsxs)("b",{children:[n.username,"!"]})]}),Object(l.jsx)(o.b,{className:"navTab",to:"/",exact:!0,children:"Home"}),Object(l.jsx)(o.b,{className:"navTab",to:"/discs",exact:!0,children:"Discs"}),Object(l.jsx)(o.b,{className:"navTab",to:"/courses",exact:!0,children:"Courses"}),Object(l.jsx)(o.b,{className:"navTab",to:"/scorecard",exact:!0,children:"Scorecard"}),Object(l.jsxs)("button",{className:"logout",onClick:c,children:["Logout ",Object(l.jsx)(x.a,{name:"sign-out"})]})]}):Object(l.jsxs)("div",{className:"navBar",children:[Object(l.jsx)(o.b,{className:"navTab",to:"/login",exact:!0,children:"Log In"}),Object(l.jsx)(o.b,{className:"navTab",to:"/signup",exact:!0,children:"Sign Up"})]})},B=c(189),q=function(e){var t=e.disc,c=e.handleRemoveDisc,n=e.handleUpdateDisc,r=t.id,a=t.make,o=t.model,j=t.color,b=t.disc_type,u=t.weight,O=t.img,h=t.finder_key,x=t.lost,p=Object(s.useState)(x),m=Object(i.a)(p,2),g=m[0],f=m[1],v=Object(s.useContext)(d),C=v.setOpen,y=v.setErrorMessages;return Object(l.jsxs)(B.a,{raised:!0,children:[Object(l.jsx)(U.a,{size:"medium",src:O}),Object(l.jsxs)(B.a.Content,{children:[Object(l.jsxs)(B.a.Header,{children:[a," ",o]}),Object(l.jsx)(B.a.Meta,{children:Object(l.jsx)("span",{className:"date",children:b})}),Object(l.jsxs)(B.a.Description,{children:[Object(l.jsx)("b",{children:"Color:"})," ",j,Object(l.jsx)("br",{}),Object(l.jsx)("b",{children:"Weight:"})," ",u,Object(l.jsx)("br",{}),Object(l.jsx)("b",{children:"ID:"})," ",h]})]}),Object(l.jsxs)(B.a.Content,{extra:!0,children:[Object(l.jsx)("b",{children:"Lost?"})," ",Object(l.jsx)("input",{type:"checkbox",checked:g,onChange:function(){fetch("/api/discs/".concat(r),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({lost:!x})}).then((function(e){return e.json()})).then((function(e){e.error?(y(e.error),C(!0)):(n(e),f(!g))}))}}),Object(l.jsx)("button",{className:"delete",onClick:function(){fetch("/api/discs/".concat(r),{method:"DELETE"}),c(r)},children:"Delete"})]})]})},Y=function(e){var t=e.handleAddDisc,c=Object(s.useState)({make:"",model:"",type:"",color:"",weight:"",img:""}),n=Object(i.a)(c,2),r=n[0],a=n[1],o=Object(s.useContext)(d),j=o.setOpen,b=o.setErrorMessages,O=function(e){var t=e.target.id,c=e.target.value;a(Object(u.a)(Object(u.a)({},r),{},Object(g.a)({},t,c)))};return Object(l.jsxs)("div",{id:"discForm",children:["Add new disc:",Object(l.jsx)("br",{}),Object(l.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),fetch("/api/discs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({make:r.make,model:r.model,disc_type:r.type,color:r.color,weight:r.weight,img:r.img})}).then((function(e){return e.json()})).then((function(e){e.error?(b(e.error),j(!0)):(t(e),a({make:"",model:"",type:"",color:"",weight:"",img:""}))}))},children:[Object(l.jsxs)(f.a.Group,{widths:"equal",children:[Object(l.jsx)(f.a.Field,{id:"make",value:r.make,placeholder:"Make",control:"input",onChange:O}),Object(l.jsx)(f.a.Field,{id:"model",value:r.model,placeholder:"Model",control:"input",onChange:O}),Object(l.jsx)(f.a.Field,{id:"color",value:r.color,placeholder:"Color",control:"input",onChange:O})]}),Object(l.jsxs)(f.a.Group,{widths:"equal",children:[Object(l.jsxs)(f.a.Field,{id:"type",value:r.type,control:"select",onChange:O,children:[Object(l.jsx)("option",{value:"",children:"Select disc type"}),Object(l.jsx)("option",{value:"Distance Driver",children:"Distance Driver"}),Object(l.jsx)("option",{value:"Fairway Driver",children:"Fairway Driver"}),Object(l.jsx)("option",{value:"Control Driver",children:"Control Driver"}),Object(l.jsx)("option",{value:"Midrange",children:"Midrange"}),Object(l.jsx)("option",{value:"Putter",children:"Putter"})]}),Object(l.jsx)(f.a.Field,{id:"weight",value:r.weight,placeholder:"Weight in Grams",control:"input",onChange:O}),Object(l.jsx)(f.a.Field,{id:"img",value:r.img,placeholder:"Image URL (Optional)",control:"input",onChange:O})]}),Object(l.jsx)("input",{type:"submit"})]})]})},W=function(){var e=Object(s.useContext)(d),t=e.user,c=e.setUser;if(!t.discs)return Object(l.jsx)("h1",{children:"Loading..."});var n=function(e){var s=t.discs.filter((function(t){return t.id!==e}));c(Object(u.a)(Object(u.a)({},t),{},{discs:s}))},r=function(e){var s=t.discs.map((function(t){return t.id===e.id?e:t}));c(Object(u.a)(Object(u.a)({},t),{},{discs:s}))},a=t.discs.map((function(e){return Object(l.jsx)(q,{disc:e,handleRemoveDisc:n,handleUpdateDisc:r},e.id)}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Your Discography"}),0===t.discs.length?"You haven't added any discs yet!":Object(l.jsx)(B.a.Group,{stackable:!0,itemsPerRow:3,id:"discGrid",children:a}),Object(l.jsx)(D.a,{}),Object(l.jsx)("div",{children:Object(l.jsx)(Y,{handleAddDisc:function(e){c(Object(u.a)(Object(u.a)({},t),{},{discs:[].concat(Object(w.a)(t.discs),[e])}))}})})]})},Q=function(e){var t=e.hole,c=e.tally,n=e.count,r=e.setCount,a=Object(s.useState)({par:"",strokes:""}),o=Object(i.a)(a,2),j=o[0],d=o[1],b=Object(s.useState)({img:"circle outline",color:"red"}),O=Object(i.a)(b,2),h=O[0],m=O[1],f=function(e){var t=e.target.id,c=e.target.value;d(Object(u.a)(Object(u.a)({},j),{},Object(g.a)({},t,parseInt(c))))},v=function(e){Number.isInteger(j.par,j.strokes)?"record"===e.target.id?(c(j.par,j.strokes),m({img:"check circle outline",color:"green"}),r(n+1)):"undo"===e.target.id&&(c(-j.par,-j.strokes),m({img:"circle outline",color:"red"}),r(n-1)):c("error","message")};return Object(l.jsxs)(B.a,{color:"orange",raised:!0,children:[Object(l.jsxs)(B.a.Content,{children:[Object(l.jsxs)(B.a.Header,{children:["Hole ",t," ",Object(l.jsx)(x.a,{name:h.img,color:h.color})]}),Object(l.jsx)(B.a.Description,{children:Object(l.jsxs)("form",{children:[Object(l.jsx)("input",{type:"number",id:"par",style:{width:"75%"},value:j.par,placeholder:"Par",onChange:f}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"number",id:"strokes",style:{width:"75%"},value:j.strokes,placeholder:"Strokes",onChange:f})]})})]}),Object(l.jsx)(B.a.Content,{extra:!0,children:Object(l.jsxs)("div",{className:"ui two buttons",children:[Object(l.jsx)(p.a,{icon:!0,id:"record",compact:!0,color:"green",onClick:v,disabled:"green"===h.color,children:Object(l.jsx)(x.a,{name:"plus"})}),Object(l.jsx)(p.a,{icon:!0,id:"undo",compact:!0,color:"red",onClick:v,disabled:"red"===h.color,children:Object(l.jsx)(x.a,{name:"minus"})})]})})]})},K=function(){var e=Object(s.useContext)(d),t=e.selectedCourse,c=e.history,n=e.user,r=e.setUser,a=e.setOpen,o=e.setErrorMessages,j=t.id,b=t.name,O=t.holes,h=Object(s.useState)([]),x=Object(i.a)(h,2),p=x[0],m=x[1],g=Object(s.useState)(0),f=Object(i.a)(g,2),v=f[0],C=f[1],y=Object(s.useState)(0),k=Object(i.a)(y,2),S=k[0],M=k[1],T=Object(s.useState)(0),N=Object(i.a)(T,2),D=N[0],E=N[1];Object(s.useEffect)((function(){t?m(Array.from({length:O},(function(e,t){return t+1}))):c.push("/courses")}),[]);var F=function(e,t){Number.isInteger(e,t)?(C(v+e),M(S+t)):(o(["Par must be an integer","Strokes must be an integer"]),a(!0))},P=p.map((function(e){return Object(l.jsx)(Q,{hole:e,tally:F,count:D,setCount:E},e)}));return Object(l.jsxs)("div",{children:[Object(l.jsxs)("h3",{children:["Currently playing at: ",b]}),Object(l.jsx)("br",{}),"Enter the par and your number of strokes for each hole. Use the +/- buttons to add or remove the numbers from your total!",Object(l.jsx)("br",{}),Object(l.jsx)("b",{children:"Par:"})," ",v," ",Object(l.jsx)("b",{children:"Strokes:"})," ",S,Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(B.a.Group,{id:"formGrid",itemsPerRow:3,children:P}),Object(l.jsx)("br",{}),Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),D<O?(o(["Your scorecard is incomplete! Go back and make sure each hole has a recorded score."]),a(!0)):fetch("/api/scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({course_id:j,par:v,strokes:S,player:n.username})}).then((function(e){return e.json()})).then((function(e){var t;e.error?(o(e.error),a(!0)):(t=e,r(Object(u.a)(Object(u.a)({},n),{},{scores:[].concat(Object(w.a)(n.scores),[t]),courses:[].concat(Object(w.a)(n.courses),[t.course])})),c.push("/"))}))},children:Object(l.jsx)("input",{type:"submit",value:"Finished!"})})]})},V=c(187),X=function(e){var t=e.course,c=e.setEditMode,n=e.edit,r=Object(s.useContext)(d),a=r.setSelectedCourse,o=r.history,i=t.id,j=t.name,b=t.location,u=t.holes,O=t.top_scores.map((function(e){var t=e.strokes-e.par;return Object(l.jsxs)(V.a.Row,{children:[Object(l.jsx)(V.a.Cell,{children:e.player}),Object(l.jsx)(V.a.Cell,{children:e.strokes}),Object(l.jsx)(V.a.Cell,{children:function(e){return 0===e?"\xb1".concat(e):e>0?"+".concat(e):e}(t)})]},e.id)}));return Object(l.jsx)(B.a,{children:Object(l.jsxs)(B.a.Content,{children:[Object(l.jsx)(B.a.Header,{children:j}),Object(l.jsxs)(B.a.Meta,{children:[b," | ",u," holes",Object(l.jsx)("br",{}),Object(l.jsx)("button",{onClick:function(){a(t),o.push("/scorecard")},children:"Play"}),Object(l.jsx)("button",{onClick:function(){n===i?(a(!1),c(!1)):(a(t),c(i))},children:n===i?"Cancel":"Edit"})]}),Object(l.jsxs)(B.a.Description,{children:[Object(l.jsx)("b",{children:"Top 3 Scores"}),Object(l.jsx)("br",{}),Object(l.jsxs)(V.a,{singleLine:!0,unstackable:!0,children:[Object(l.jsx)(V.a.Header,{children:Object(l.jsxs)(V.a.Row,{children:[Object(l.jsx)(V.a.HeaderCell,{children:"Player"}),Object(l.jsx)(V.a.HeaderCell,{children:"Strokes"}),Object(l.jsx)(V.a.HeaderCell,{children:"Score"})]})}),Object(l.jsx)(V.a.Body,{children:O})]})]})]})})},Z=function(e){var t=e.handleAddCourse,c=Object(s.useState)({name:"",location:"",holes:""}),n=Object(i.a)(c,2),r=n[0],a=n[1],o=Object(s.useContext)(d),j=o.setOpen,b=o.setErrorMessages,O=function(e){var t=e.target.id,c="holes"===t?parseInt(e.target.value):e.target.value;a(Object(u.a)(Object(u.a)({},r),{},Object(g.a)({},t,c)))};return Object(l.jsxs)("div",{children:["Add new course:",Object(l.jsx)("br",{}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/courses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,location:r.location,holes:r.holes})}).then((function(e){return e.json()})).then((function(e){e.error?(b(e.error),j(!0)):(t(e),a({name:"",location:"",holes:""}))}))},children:[Object(l.jsx)(F.a,{type:"text",id:"name",label:"Name",value:r.name,placeholder:"Name of Course",onChange:O}),Object(l.jsx)(F.a,{type:"number",id:"holes",label:"Holes",value:r.holes,placeholder:"Number of Holes",onChange:O}),Object(l.jsx)(F.a,{type:"text",id:"location",label:"Location",value:r.location,placeholder:"Location of Course",onChange:O}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"submit"})]})]})},$=function(e){var t=e.handleUpdateCourse,c=e.setEditMode,n=Object(s.useState)({name:"",location:"",holes:""}),r=Object(i.a)(n,2),a=r[0],o=r[1],j=Object(s.useContext)(d),b=j.setOpen,O=j.setErrorMessages,h=j.selectedCourse,x=h.id,p=h.name,m=function(e){var t=e.target.id,c="holes"===t?parseInt(e.target.value):e.target.value;o(Object(u.a)(Object(u.a)({},a),{},Object(g.a)({},t,c)))};return Object(l.jsxs)("div",{children:["Now editing ",Object(l.jsx)("b",{children:p}),"...",Object(l.jsx)("br",{}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/courses/".concat(x),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,location:a.location,holes:a.holes})}).then((function(e){return e.json()})).then((function(e){e.error?(O(e.error),b(!0)):(t(e),o({name:"",location:"",holes:""}),c(!1))}))},children:[Object(l.jsx)(F.a,{type:"text",id:"name",label:"Name",value:a.name,placeholder:"Name of Course",onChange:m}),Object(l.jsx)(F.a,{type:"number",id:"holes",label:"Holes",value:a.holes,placeholder:"Number of Holes",onChange:m}),Object(l.jsx)(F.a,{type:"text",id:"location",label:"Location",value:a.location,placeholder:"Location of Course",onChange:m}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"submit"})]})]})},ee=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(!1),a=Object(i.a)(r,2),o=a[0],j=a[1],b=Object(s.useContext)(d),u=b.setOpen,O=b.setErrorMessages;Object(s.useEffect)((function(){fetch("/api/courses").then((function(e){return e.json()})).then((function(e){e.error?(O(e.error),u(!0)):n(e)}))}),[]);var h=c.map((function(e){return Object(l.jsx)(X,{course:e,setEditMode:j,edit:o},e.id)}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h4",{children:"Click 'Play' on a course to start scorekeeping a new round there!"}),Object(l.jsx)(B.a.Group,{itemsPerRow:1,id:"courseGrid",children:h}),Object(l.jsx)("br",{}),o?Object(l.jsx)($,{handleUpdateCourse:function(e){var t=c.map((function(t){return t.id===e.id?e:t}));n(t)},setEditMode:j}):Object(l.jsx)(Z,{handleAddCourse:function(e){n([].concat(Object(w.a)(c),[e]))}})]})};var te=function(){var e=Object(s.useContext)(d),t=e.open,c=e.setOpen,n=e.errorMessages.map((function(e,t){return Object(l.jsx)("li",{children:e},t)}));return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)(O.a,{basic:!0,onClose:function(){return c(!1)},onOpen:function(){return c(!0)},open:t,size:"small",children:[Object(l.jsxs)(h.a,{icon:!0,children:[Object(l.jsx)(x.a,{color:"yellow",name:"exclamation triangle"}),"Your request could not be completed. Here's why:"]}),Object(l.jsx)(O.a.Content,{children:Object(l.jsx)("ul",{children:n})}),Object(l.jsx)(O.a.Actions,{children:Object(l.jsxs)(p.a,{color:"yellow",inverted:!0,onClick:function(){return c(!1)},children:[Object(l.jsx)(x.a,{name:"checkmark"})," Got it"]})})]}),Object(l.jsx)("img",{src:m,alt:"Tossed and Found",className:"logo"}),Object(l.jsx)(z,{}),Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{exact:!0,path:"/signup",render:function(e){return Object(l.jsx)(v,Object(u.a)({},e))}}),Object(l.jsx)(j.a,{exact:!0,path:"/login",render:function(e){return Object(l.jsx)(C,Object(u.a)({},e))}}),Object(l.jsx)(j.a,{exact:!0,path:"/discs",render:function(e){return Object(l.jsx)(W,Object(u.a)({},e))}}),Object(l.jsx)(j.a,{exact:!0,path:"/scorecard",render:function(e){return Object(l.jsx)(K,Object(u.a)({},e))}}),Object(l.jsx)(j.a,{exact:!0,path:"/courses",render:function(e){return Object(l.jsx)(ee,Object(u.a)({},e))}}),Object(l.jsx)(j.a,{exact:!0,path:"/*",render:function(e){return Object(l.jsx)(R,Object(u.a)({},e))}})]})]})};a.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(b,{children:Object(l.jsx)(te,{})})})}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.a670824a.chunk.js.map